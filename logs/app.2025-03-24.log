2025-03-24 00:00:36 [clientInboundChannel-52] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-1 session=s2xechj2
2025-03-24 00:00:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742774436016
2025-03-24 00:00:36 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:00:36 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:00:36 [http-nio-8080-exec-6] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:00:36 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:00:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742774436016
2025-03-24 00:00:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742774436016", parameters={masked}
2025-03-24 00:00:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:00:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742774436016
2025-03-24 00:00:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=s2xechj2] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:00:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session s2xechj2
2025-03-24 00:00:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:00:36 [clientInboundChannel-55] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=s2xechj2
2025-03-24 00:00:36 [clientOutboundChannel-55] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=s2xechj2}], simpSessionId=s2xechj2}]
2025-03-24 00:00:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/259/mtn4ylvb/websocket
2025-03-24 00:00:36 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/259/mtn4ylvb/websocket
2025-03-24 00:00:36 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:00:36 [http-nio-8080-exec-8] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:00:36 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:00:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/259/mtn4ylvb/websocket
2025-03-24 00:00:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/259/mtn4ylvb/websocket", parameters={}
2025-03-24 00:00:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:00:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/259/mtn4ylvb/websocket
2025-03-24 00:00:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:00:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=mtn4ylvb]
2025-03-24 00:00:36 [clientInboundChannel-58] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=mtn4ylvb
2025-03-24 00:00:36 [clientInboundChannel-61] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-mtn4ylvb id=sub-0 session=mtn4ylvb
2025-03-24 00:00:36 [clientInboundChannel-63] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=mtn4ylvb, lookupDestination='/chat.addUser'
2025-03-24 00:00:36 [clientInboundChannel-63] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:00:36 [clientInboundChannel-63] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-mtn4ylvb session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:00:36 [clientInboundChannel-63] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:00:36 [clientInboundChannel-67] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-1 session=tqyv5djf
2025-03-24 00:00:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=tqyv5djf] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:00:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session tqyv5djf
2025-03-24 00:00:36 [clientInboundChannel-70] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=tqyv5djf
2025-03-24 00:00:36 [clientOutboundChannel-59] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=tqyv5djf}], simpSessionId=tqyv5djf}]
2025-03-24 00:00:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742774436527
2025-03-24 00:00:36 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:00:36 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:00:36 [http-nio-8080-exec-3] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:00:36 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:00:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742774436527
2025-03-24 00:00:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742774436527", parameters={masked}
2025-03-24 00:00:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:00:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742774436527
2025-03-24 00:00:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:00:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/267/a1zpx2q0/websocket
2025-03-24 00:00:36 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/267/a1zpx2q0/websocket
2025-03-24 00:00:36 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:00:36 [http-nio-8080-exec-4] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:00:36 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:00:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/267/a1zpx2q0/websocket
2025-03-24 00:00:36 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/267/a1zpx2q0/websocket", parameters={}
2025-03-24 00:00:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:00:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/267/a1zpx2q0/websocket
2025-03-24 00:00:36 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:00:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=a1zpx2q0]
2025-03-24 00:00:36 [clientInboundChannel-73] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=a1zpx2q0
2025-03-24 00:00:36 [clientInboundChannel-76] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-a1zpx2q0 id=sub-0 session=a1zpx2q0
2025-03-24 00:00:36 [clientInboundChannel-78] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=a1zpx2q0, lookupDestination='/chat.addUser'
2025-03-24 00:00:36 [clientInboundChannel-78] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:00:36 [clientInboundChannel-78] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-a1zpx2q0 session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:00:36 [clientInboundChannel-78] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:00:42 [MessageBroker-15] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [s2xechj2, tqyv5djf]
2025-03-24 00:01:25 [clientInboundChannel-82] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-1 session=mtn4ylvb
2025-03-24 00:01:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=mtn4ylvb] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:01:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session mtn4ylvb
2025-03-24 00:01:25 [clientInboundChannel-53] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=mtn4ylvb
2025-03-24 00:01:25 [clientOutboundChannel-63] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=mtn4ylvb}], simpSessionId=mtn4ylvb}]
2025-03-24 00:01:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742774485315
2025-03-24 00:01:25 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:01:25 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:01:25 [http-nio-8080-exec-10] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:01:25 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:01:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742774485315
2025-03-24 00:01:25 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742774485315", parameters={masked}
2025-03-24 00:01:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:01:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742774485315
2025-03-24 00:01:25 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:01:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/347/fmgxtfqi/websocket
2025-03-24 00:01:25 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/347/fmgxtfqi/websocket
2025-03-24 00:01:25 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:01:25 [http-nio-8080-exec-9] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:01:25 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:01:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/347/fmgxtfqi/websocket
2025-03-24 00:01:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/347/fmgxtfqi/websocket", parameters={}
2025-03-24 00:01:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:01:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/347/fmgxtfqi/websocket
2025-03-24 00:01:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:01:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=fmgxtfqi]
2025-03-24 00:01:25 [clientInboundChannel-55] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=fmgxtfqi
2025-03-24 00:01:25 [clientInboundChannel-58] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-fmgxtfqi id=sub-0 session=fmgxtfqi
2025-03-24 00:01:25 [clientInboundChannel-62] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=fmgxtfqi, lookupDestination='/chat.addUser'
2025-03-24 00:01:25 [clientInboundChannel-62] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:01:25 [clientInboundChannel-62] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-fmgxtfqi session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:01:25 [clientInboundChannel-62] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:01:25 [clientInboundChannel-65] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-1 session=a1zpx2q0
2025-03-24 00:01:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=a1zpx2q0] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:01:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session a1zpx2q0
2025-03-24 00:01:25 [clientInboundChannel-68] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=a1zpx2q0
2025-03-24 00:01:25 [clientOutboundChannel-67] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=a1zpx2q0}], simpSessionId=a1zpx2q0}]
2025-03-24 00:01:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742774485525
2025-03-24 00:01:25 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:01:25 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:01:25 [http-nio-8080-exec-5] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:01:25 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:01:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742774485525
2025-03-24 00:01:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742774485525", parameters={masked}
2025-03-24 00:01:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:01:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742774485525
2025-03-24 00:01:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:01:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/466/v33nvyo0/websocket
2025-03-24 00:01:25 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/466/v33nvyo0/websocket
2025-03-24 00:01:25 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:01:25 [http-nio-8080-exec-6] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:01:25 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:01:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/466/v33nvyo0/websocket
2025-03-24 00:01:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/466/v33nvyo0/websocket", parameters={}
2025-03-24 00:01:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:01:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/466/v33nvyo0/websocket
2025-03-24 00:01:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:01:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=v33nvyo0]
2025-03-24 00:01:25 [clientInboundChannel-71] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=v33nvyo0
2025-03-24 00:01:25 [clientInboundChannel-74] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-v33nvyo0 id=sub-0 session=v33nvyo0
2025-03-24 00:01:25 [clientInboundChannel-77] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=v33nvyo0, lookupDestination='/chat.addUser'
2025-03-24 00:01:25 [clientInboundChannel-77] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:01:25 [clientInboundChannel-77] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-v33nvyo0 session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:01:25 [clientInboundChannel-77] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:01:32 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [mtn4ylvb, a1zpx2q0]
2025-03-24 00:01:55 [clientInboundChannel-84] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-1 session=fmgxtfqi
2025-03-24 00:01:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742774515645
2025-03-24 00:01:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=fmgxtfqi] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:01:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session fmgxtfqi
2025-03-24 00:01:55 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:01:55 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:01:55 [http-nio-8080-exec-9] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:01:55 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:01:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742774515645
2025-03-24 00:01:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742774515645", parameters={masked}
2025-03-24 00:01:55 [clientInboundChannel-87] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=fmgxtfqi
2025-03-24 00:01:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:01:55 [clientOutboundChannel-71] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=fmgxtfqi}], simpSessionId=fmgxtfqi}]
2025-03-24 00:01:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742774515645
2025-03-24 00:01:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:01:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/454/4rei1r1s/websocket
2025-03-24 00:01:55 [http-nio-8080-exec-2] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/454/4rei1r1s/websocket
2025-03-24 00:01:55 [http-nio-8080-exec-2] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:01:55 [http-nio-8080-exec-2] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:01:55 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:01:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/454/4rei1r1s/websocket
2025-03-24 00:01:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/454/4rei1r1s/websocket", parameters={}
2025-03-24 00:01:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:01:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/454/4rei1r1s/websocket
2025-03-24 00:01:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:01:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=4rei1r1s]
2025-03-24 00:01:55 [clientInboundChannel-90] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=4rei1r1s
2025-03-24 00:01:55 [clientInboundChannel-93] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-4rei1r1s id=sub-0 session=4rei1r1s
2025-03-24 00:01:55 [clientInboundChannel-51] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=4rei1r1s, lookupDestination='/chat.addUser'
2025-03-24 00:01:55 [clientInboundChannel-51] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:01:55 [clientInboundChannel-51] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-4rei1r1s session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:01:55 [clientInboundChannel-51] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:01:56 [clientInboundChannel-56] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-1 session=v33nvyo0
2025-03-24 00:01:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=v33nvyo0] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:01:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session v33nvyo0
2025-03-24 00:01:56 [clientInboundChannel-61] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=v33nvyo0
2025-03-24 00:01:56 [clientOutboundChannel-75] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=v33nvyo0}], simpSessionId=v33nvyo0}]
2025-03-24 00:01:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742774516524
2025-03-24 00:01:56 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:01:56 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:01:56 [http-nio-8080-exec-7] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:01:56 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:01:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742774516524
2025-03-24 00:01:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742774516524", parameters={masked}
2025-03-24 00:01:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:01:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742774516524
2025-03-24 00:01:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:01:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/835/f4w4fvqo/websocket
2025-03-24 00:01:56 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/835/f4w4fvqo/websocket
2025-03-24 00:01:56 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:01:56 [http-nio-8080-exec-8] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:01:56 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:01:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/835/f4w4fvqo/websocket
2025-03-24 00:01:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/835/f4w4fvqo/websocket", parameters={}
2025-03-24 00:01:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:01:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/835/f4w4fvqo/websocket
2025-03-24 00:01:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:01:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=f4w4fvqo]
2025-03-24 00:01:56 [clientInboundChannel-62] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=f4w4fvqo
2025-03-24 00:01:56 [clientInboundChannel-68] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-f4w4fvqo id=sub-0 session=f4w4fvqo
2025-03-24 00:01:56 [clientInboundChannel-71] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=f4w4fvqo, lookupDestination='/chat.addUser'
2025-03-24 00:01:56 [clientInboundChannel-71] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:01:56 [clientInboundChannel-71] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-f4w4fvqo session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:01:56 [clientInboundChannel-71] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:02:02 [MessageBroker-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [fmgxtfqi, v33nvyo0]
2025-03-24 00:02:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/messages
2025-03-24 00:02:03 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/messages
2025-03-24 00:02:03 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ3YXJtc2VudGluZWw5MTEiLCJpYXQiOjE3NDI3NzM2NTAsImV4cCI6MTc0Mjc3NzI1MH0._4WHgq4Sa2LLBKARJ4pSTY9PlgjeqIDV_8hiujumST0
2025-03-24 00:02:03 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ3YXJtc2VudGluZWw5MTEiLCJpYXQiOjE3NDI3NzM2NTAsImV4cCI6MTc0Mjc3NzI1MH0._4WHgq4Sa2LLBKARJ4pSTY9PlgjeqIDV_8hiujumST0
2025-03-24 00:02:03 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: warmsentinel911
2025-03-24 00:02:03 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:02:03 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: warmsentinel911
2025-03-24 00:02:03 [http-nio-8080-exec-9] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: warmsentinel911
2025-03-24 00:02:03 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 087F97B1BDC1E954E9078318EEC9195B
2025-03-24 00:02:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/messages
2025-03-24 00:02:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/messages", parameters={}
2025-03-24 00:02:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#sendMessage(HttpServletRequest, MessageDTO)
2025-03-24 00:02:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.MessageDTO@3dcce881]
2025-03-24 00:02:03 [http-nio-8080-exec-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-f4w4fvqo session=null payload={"type":"message","data":{"content":null,"receiver":"lightbeast034","sender":"wa...(truncated)
2025-03-24 00:02:03 [http-nio-8080-exec-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:02:03 [http-nio-8080-exec-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-4rei1r1s session=null payload={"type":"message","data":{"content":null,"receiver":"lightbeast034","sender":"wa...(truncated)
2025-03-24 00:02:03 [http-nio-8080-exec-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:02:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:02:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:02:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/confirm-watched
2025-03-24 00:02:03 [http-nio-8080-exec-2] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/confirm-watched
2025-03-24 00:02:03 [http-nio-8080-exec-2] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsaWdodGJlYXN0MDM0IiwiaWF0IjoxNzQyNzczNjQyLCJleHAiOjE3NDI3NzcyNDJ9.f8jYqKY6g_Jc38HMmHhdhR-HiryvBq4GrsmRpNUxakM
2025-03-24 00:02:03 [http-nio-8080-exec-2] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsaWdodGJlYXN0MDM0IiwiaWF0IjoxNzQyNzczNjQyLCJleHAiOjE3NDI3NzcyNDJ9.f8jYqKY6g_Jc38HMmHhdhR-HiryvBq4GrsmRpNUxakM
2025-03-24 00:02:03 [http-nio-8080-exec-2] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: lightbeast034
2025-03-24 00:02:03 [http-nio-8080-exec-2] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:02:03 [http-nio-8080-exec-2] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: lightbeast034
2025-03-24 00:02:03 [http-nio-8080-exec-2] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: lightbeast034
2025-03-24 00:02:03 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 3591E27048B417956C1E84E943B568FF
2025-03-24 00:02:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/confirm-watched
2025-03-24 00:02:03 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/confirm-watched", parameters={}
2025-03-24 00:02:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#confirmWatched(HttpSession, ConfirmDestinationDto)
2025-03-24 00:02:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.ConfirmDestinationDto@2dd3ff78]
2025-03-24 00:02:03 [http-nio-8080-exec-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-4rei1r1s session=null payload={"type":"watched","data":null}
2025-03-24 00:02:03 [http-nio-8080-exec-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:02:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:02:03 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:02:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/messages
2025-03-24 00:02:15 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/messages
2025-03-24 00:02:15 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ3YXJtc2VudGluZWw5MTEiLCJpYXQiOjE3NDI3NzM2NTAsImV4cCI6MTc0Mjc3NzI1MH0._4WHgq4Sa2LLBKARJ4pSTY9PlgjeqIDV_8hiujumST0
2025-03-24 00:02:15 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ3YXJtc2VudGluZWw5MTEiLCJpYXQiOjE3NDI3NzM2NTAsImV4cCI6MTc0Mjc3NzI1MH0._4WHgq4Sa2LLBKARJ4pSTY9PlgjeqIDV_8hiujumST0
2025-03-24 00:02:15 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: warmsentinel911
2025-03-24 00:02:15 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:02:15 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: warmsentinel911
2025-03-24 00:02:15 [http-nio-8080-exec-3] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: warmsentinel911
2025-03-24 00:02:15 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 6A0048E3152F1199868868BB2766691B
2025-03-24 00:02:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/messages
2025-03-24 00:02:15 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/messages", parameters={}
2025-03-24 00:02:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#sendMessage(HttpServletRequest, MessageDTO)
2025-03-24 00:02:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.MessageDTO@5f954992]
2025-03-24 00:02:15 [http-nio-8080-exec-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-f4w4fvqo session=null payload={"type":"message","data":{"content":null,"receiver":"lightbeast034","sender":"wa...(truncated)
2025-03-24 00:02:15 [http-nio-8080-exec-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:02:15 [http-nio-8080-exec-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-4rei1r1s session=null payload={"type":"message","data":{"content":null,"receiver":"lightbeast034","sender":"wa...(truncated)
2025-03-24 00:02:15 [http-nio-8080-exec-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:02:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:02:15 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:02:15 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/confirm-watched
2025-03-24 00:02:15 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/confirm-watched
2025-03-24 00:02:15 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsaWdodGJlYXN0MDM0IiwiaWF0IjoxNzQyNzczNjQyLCJleHAiOjE3NDI3NzcyNDJ9.f8jYqKY6g_Jc38HMmHhdhR-HiryvBq4GrsmRpNUxakM
2025-03-24 00:02:15 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsaWdodGJlYXN0MDM0IiwiaWF0IjoxNzQyNzczNjQyLCJleHAiOjE3NDI3NzcyNDJ9.f8jYqKY6g_Jc38HMmHhdhR-HiryvBq4GrsmRpNUxakM
2025-03-24 00:02:15 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: lightbeast034
2025-03-24 00:02:15 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:02:15 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: lightbeast034
2025-03-24 00:02:15 [http-nio-8080-exec-4] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: lightbeast034
2025-03-24 00:02:15 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 61876F3BE77F4CA7B755674E10BCF264
2025-03-24 00:02:15 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/confirm-watched
2025-03-24 00:02:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/confirm-watched", parameters={}
2025-03-24 00:02:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#confirmWatched(HttpSession, ConfirmDestinationDto)
2025-03-24 00:02:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.ConfirmDestinationDto@35da448]
2025-03-24 00:02:15 [http-nio-8080-exec-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-4rei1r1s session=null payload={"type":"watched","data":null}
2025-03-24 00:02:15 [http-nio-8080-exec-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:02:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:02:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:03:45 [clientInboundChannel-95] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-1 session=f4w4fvqo
2025-03-24 00:03:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=f4w4fvqo] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:03:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session f4w4fvqo
2025-03-24 00:03:45 [clientInboundChannel-98] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=f4w4fvqo
2025-03-24 00:03:45 [clientOutboundChannel-85] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=f4w4fvqo}], simpSessionId=f4w4fvqo}]
2025-03-24 00:03:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742774625079
2025-03-24 00:03:45 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:03:45 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:03:45 [http-nio-8080-exec-8] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:03:45 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:03:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742774625079
2025-03-24 00:03:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742774625079", parameters={masked}
2025-03-24 00:03:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:03:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742774625079
2025-03-24 00:03:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:03:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/636/rbwmxzaa/websocket
2025-03-24 00:03:45 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/636/rbwmxzaa/websocket
2025-03-24 00:03:45 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:03:45 [http-nio-8080-exec-10] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:03:45 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:03:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/636/rbwmxzaa/websocket
2025-03-24 00:03:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/636/rbwmxzaa/websocket", parameters={}
2025-03-24 00:03:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:03:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/636/rbwmxzaa/websocket
2025-03-24 00:03:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:03:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=rbwmxzaa]
2025-03-24 00:03:45 [clientInboundChannel-101] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=rbwmxzaa
2025-03-24 00:03:45 [clientInboundChannel-104] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-rbwmxzaa id=sub-0 session=rbwmxzaa
2025-03-24 00:03:45 [clientInboundChannel-106] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=rbwmxzaa, lookupDestination='/chat.addUser'
2025-03-24 00:03:45 [clientInboundChannel-106] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:03:45 [clientInboundChannel-106] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-rbwmxzaa session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:03:45 [clientInboundChannel-106] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:03:45 [clientInboundChannel-110] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-1 session=4rei1r1s
2025-03-24 00:03:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=4rei1r1s] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:03:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742774625516
2025-03-24 00:03:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 4rei1r1s
2025-03-24 00:03:45 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:03:45 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:03:45 [http-nio-8080-exec-3] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:03:45 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:03:45 [clientInboundChannel-113] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=4rei1r1s
2025-03-24 00:03:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742774625516
2025-03-24 00:03:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742774625516", parameters={masked}
2025-03-24 00:03:45 [clientOutboundChannel-89] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=4rei1r1s}], simpSessionId=4rei1r1s}]
2025-03-24 00:03:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:03:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742774625516
2025-03-24 00:03:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:03:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/944/ogb01b3t/websocket
2025-03-24 00:03:45 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/944/ogb01b3t/websocket
2025-03-24 00:03:45 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:03:45 [http-nio-8080-exec-5] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:03:45 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:03:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/944/ogb01b3t/websocket
2025-03-24 00:03:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/944/ogb01b3t/websocket", parameters={}
2025-03-24 00:03:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:03:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/944/ogb01b3t/websocket
2025-03-24 00:03:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:03:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ogb01b3t]
2025-03-24 00:03:45 [clientInboundChannel-116] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=ogb01b3t
2025-03-24 00:03:45 [clientInboundChannel-119] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-ogb01b3t id=sub-0 session=ogb01b3t
2025-03-24 00:03:45 [clientInboundChannel-121] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=ogb01b3t, lookupDestination='/chat.addUser'
2025-03-24 00:03:45 [clientInboundChannel-121] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:03:45 [clientInboundChannel-121] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-ogb01b3t session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:03:45 [clientInboundChannel-121] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:03:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/messages
2025-03-24 00:03:50 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/messages
2025-03-24 00:03:50 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ3YXJtc2VudGluZWw5MTEiLCJpYXQiOjE3NDI3NzM2NTAsImV4cCI6MTc0Mjc3NzI1MH0._4WHgq4Sa2LLBKARJ4pSTY9PlgjeqIDV_8hiujumST0
2025-03-24 00:03:50 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ3YXJtc2VudGluZWw5MTEiLCJpYXQiOjE3NDI3NzM2NTAsImV4cCI6MTc0Mjc3NzI1MH0._4WHgq4Sa2LLBKARJ4pSTY9PlgjeqIDV_8hiujumST0
2025-03-24 00:03:50 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: warmsentinel911
2025-03-24 00:03:50 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:03:50 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: warmsentinel911
2025-03-24 00:03:50 [http-nio-8080-exec-8] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: warmsentinel911
2025-03-24 00:03:50 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 9433F7EF55053117127184D6C411A7B7
2025-03-24 00:03:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/messages
2025-03-24 00:03:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/messages", parameters={}
2025-03-24 00:03:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#sendMessage(HttpServletRequest, MessageDTO)
2025-03-24 00:03:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.MessageDTO@484db470]
2025-03-24 00:03:50 [http-nio-8080-exec-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-rbwmxzaa session=null payload={"type":"message","data":{"content":null,"receiver":"lightbeast034","sender":"wa...(truncated)
2025-03-24 00:03:50 [http-nio-8080-exec-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:03:50 [http-nio-8080-exec-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-ogb01b3t session=null payload={"type":"message","data":{"content":null,"receiver":"lightbeast034","sender":"wa...(truncated)
2025-03-24 00:03:50 [http-nio-8080-exec-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:03:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:03:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:03:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/confirm-watched
2025-03-24 00:03:50 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/confirm-watched
2025-03-24 00:03:50 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsaWdodGJlYXN0MDM0IiwiaWF0IjoxNzQyNzczNjQyLCJleHAiOjE3NDI3NzcyNDJ9.f8jYqKY6g_Jc38HMmHhdhR-HiryvBq4GrsmRpNUxakM
2025-03-24 00:03:50 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsaWdodGJlYXN0MDM0IiwiaWF0IjoxNzQyNzczNjQyLCJleHAiOjE3NDI3NzcyNDJ9.f8jYqKY6g_Jc38HMmHhdhR-HiryvBq4GrsmRpNUxakM
2025-03-24 00:03:50 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: lightbeast034
2025-03-24 00:03:50 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:03:50 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: lightbeast034
2025-03-24 00:03:50 [http-nio-8080-exec-10] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: lightbeast034
2025-03-24 00:03:50 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from E7F10D469565F9EA7E653CCB8EC9612C
2025-03-24 00:03:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/confirm-watched
2025-03-24 00:03:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/confirm-watched", parameters={}
2025-03-24 00:03:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#confirmWatched(HttpSession, ConfirmDestinationDto)
2025-03-24 00:03:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.ConfirmDestinationDto@1893b504]
2025-03-24 00:03:50 [http-nio-8080-exec-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-ogb01b3t session=null payload={"type":"watched","data":null}
2025-03-24 00:03:50 [http-nio-8080-exec-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:03:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:03:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:03:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/messages
2025-03-24 00:03:52 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/messages
2025-03-24 00:03:52 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ3YXJtc2VudGluZWw5MTEiLCJpYXQiOjE3NDI3NzM2NTAsImV4cCI6MTc0Mjc3NzI1MH0._4WHgq4Sa2LLBKARJ4pSTY9PlgjeqIDV_8hiujumST0
2025-03-24 00:03:52 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ3YXJtc2VudGluZWw5MTEiLCJpYXQiOjE3NDI3NzM2NTAsImV4cCI6MTc0Mjc3NzI1MH0._4WHgq4Sa2LLBKARJ4pSTY9PlgjeqIDV_8hiujumST0
2025-03-24 00:03:52 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: warmsentinel911
2025-03-24 00:03:52 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:03:52 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: warmsentinel911
2025-03-24 00:03:52 [http-nio-8080-exec-1] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: warmsentinel911
2025-03-24 00:03:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 79E7F4DB6B4A3D3F78ABB197B35976D9
2025-03-24 00:03:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/messages
2025-03-24 00:03:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/messages", parameters={}
2025-03-24 00:03:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#sendMessage(HttpServletRequest, MessageDTO)
2025-03-24 00:03:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.MessageDTO@24622d25]
2025-03-24 00:03:52 [http-nio-8080-exec-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-rbwmxzaa session=null payload={"type":"message","data":{"content":null,"receiver":"lightbeast034","sender":"wa...(truncated)
2025-03-24 00:03:52 [http-nio-8080-exec-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:03:52 [http-nio-8080-exec-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-ogb01b3t session=null payload={"type":"message","data":{"content":null,"receiver":"lightbeast034","sender":"wa...(truncated)
2025-03-24 00:03:52 [http-nio-8080-exec-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:03:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:03:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:03:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/confirm-watched
2025-03-24 00:03:52 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/confirm-watched
2025-03-24 00:03:52 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsaWdodGJlYXN0MDM0IiwiaWF0IjoxNzQyNzczNjQyLCJleHAiOjE3NDI3NzcyNDJ9.f8jYqKY6g_Jc38HMmHhdhR-HiryvBq4GrsmRpNUxakM
2025-03-24 00:03:52 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsaWdodGJlYXN0MDM0IiwiaWF0IjoxNzQyNzczNjQyLCJleHAiOjE3NDI3NzcyNDJ9.f8jYqKY6g_Jc38HMmHhdhR-HiryvBq4GrsmRpNUxakM
2025-03-24 00:03:52 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: lightbeast034
2025-03-24 00:03:52 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:03:52 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: lightbeast034
2025-03-24 00:03:52 [http-nio-8080-exec-9] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: lightbeast034
2025-03-24 00:03:52 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 5793F348E6BDD6FE72BD19C5C334C687
2025-03-24 00:03:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/confirm-watched
2025-03-24 00:03:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/confirm-watched", parameters={}
2025-03-24 00:03:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#confirmWatched(HttpSession, ConfirmDestinationDto)
2025-03-24 00:03:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.ConfirmDestinationDto@597a8fcc]
2025-03-24 00:03:52 [http-nio-8080-exec-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-ogb01b3t session=null payload={"type":"watched","data":null}
2025-03-24 00:03:52 [http-nio-8080-exec-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:03:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:03:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:03:52 [MessageBroker-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [f4w4fvqo, 4rei1r1s]
2025-03-24 00:04:48 [clientInboundChannel-125] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-1 session=rbwmxzaa
2025-03-24 00:04:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=rbwmxzaa] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:04:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session rbwmxzaa
2025-03-24 00:04:48 [clientInboundChannel-128] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=rbwmxzaa
2025-03-24 00:04:48 [clientOutboundChannel-99] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=rbwmxzaa}], simpSessionId=rbwmxzaa}]
2025-03-24 00:04:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742774688235
2025-03-24 00:04:48 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:04:48 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:04:48 [http-nio-8080-exec-3] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:04:48 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:04:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742774688235
2025-03-24 00:04:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742774688235", parameters={masked}
2025-03-24 00:04:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:04:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742774688235
2025-03-24 00:04:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:04:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/370/s2htlewb/websocket
2025-03-24 00:04:48 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/370/s2htlewb/websocket
2025-03-24 00:04:48 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:04:48 [http-nio-8080-exec-5] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:04:48 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:04:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/370/s2htlewb/websocket
2025-03-24 00:04:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/370/s2htlewb/websocket", parameters={}
2025-03-24 00:04:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:04:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/370/s2htlewb/websocket
2025-03-24 00:04:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:04:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=s2htlewb]
2025-03-24 00:04:48 [clientInboundChannel-131] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=s2htlewb
2025-03-24 00:04:48 [clientInboundChannel-134] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-s2htlewb id=sub-0 session=s2htlewb
2025-03-24 00:04:48 [clientInboundChannel-136] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=s2htlewb, lookupDestination='/chat.addUser'
2025-03-24 00:04:48 [clientInboundChannel-136] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:04:48 [clientInboundChannel-136] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-s2htlewb session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:04:48 [clientInboundChannel-136] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:04:48 [clientInboundChannel-140] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-1 session=ogb01b3t
2025-03-24 00:04:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ogb01b3t] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:04:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session ogb01b3t
2025-03-24 00:04:48 [clientInboundChannel-143] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=ogb01b3t
2025-03-24 00:04:48 [clientOutboundChannel-103] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=ogb01b3t}], simpSessionId=ogb01b3t}]
2025-03-24 00:04:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742774688520
2025-03-24 00:04:48 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:04:48 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:04:48 [http-nio-8080-exec-1] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:04:48 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:04:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742774688520
2025-03-24 00:04:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742774688520", parameters={masked}
2025-03-24 00:04:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:04:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742774688520
2025-03-24 00:04:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:04:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/098/yplnwdhj/websocket
2025-03-24 00:04:48 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/098/yplnwdhj/websocket
2025-03-24 00:04:48 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:04:48 [http-nio-8080-exec-9] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:04:48 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:04:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/098/yplnwdhj/websocket
2025-03-24 00:04:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/098/yplnwdhj/websocket", parameters={}
2025-03-24 00:04:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:04:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/098/yplnwdhj/websocket
2025-03-24 00:04:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:04:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=yplnwdhj]
2025-03-24 00:04:48 [clientInboundChannel-146] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=yplnwdhj
2025-03-24 00:04:48 [clientInboundChannel-149] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-yplnwdhj id=sub-0 session=yplnwdhj
2025-03-24 00:04:48 [clientInboundChannel-151] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=yplnwdhj, lookupDestination='/chat.addUser'
2025-03-24 00:04:48 [clientInboundChannel-151] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:04:48 [clientInboundChannel-151] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-yplnwdhj session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:04:48 [clientInboundChannel-151] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:04:57 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [ogb01b3t, rbwmxzaa]
2025-03-24 00:04:58 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/messages
2025-03-24 00:04:58 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/messages
2025-03-24 00:04:58 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsaWdodGJlYXN0MDM0IiwiaWF0IjoxNzQyNzczNjQyLCJleHAiOjE3NDI3NzcyNDJ9.f8jYqKY6g_Jc38HMmHhdhR-HiryvBq4GrsmRpNUxakM
2025-03-24 00:04:58 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsaWdodGJlYXN0MDM0IiwiaWF0IjoxNzQyNzczNjQyLCJleHAiOjE3NDI3NzcyNDJ9.f8jYqKY6g_Jc38HMmHhdhR-HiryvBq4GrsmRpNUxakM
2025-03-24 00:04:58 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: lightbeast034
2025-03-24 00:04:58 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:04:58 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: lightbeast034
2025-03-24 00:04:58 [http-nio-8080-exec-3] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: lightbeast034
2025-03-24 00:04:58 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 2C9F5E032ADFBFE0893439513100CA88
2025-03-24 00:04:58 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/messages
2025-03-24 00:04:58 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/messages", parameters={}
2025-03-24 00:04:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#sendMessage(HttpServletRequest, MessageDTO)
2025-03-24 00:04:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.MessageDTO@3a335602]
2025-03-24 00:04:58 [http-nio-8080-exec-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-yplnwdhj session=null payload={"type":"message","data":{"content":null,"receiver":"warmsentinel911","sender":"...(truncated)
2025-03-24 00:04:58 [http-nio-8080-exec-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:04:58 [http-nio-8080-exec-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-s2htlewb session=null payload={"type":"message","data":{"content":null,"receiver":"warmsentinel911","sender":"...(truncated)
2025-03-24 00:04:58 [http-nio-8080-exec-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:04:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:04:58 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:04:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/confirm-watched
2025-03-24 00:04:58 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/confirm-watched
2025-03-24 00:04:58 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ3YXJtc2VudGluZWw5MTEiLCJpYXQiOjE3NDI3NzM2NTAsImV4cCI6MTc0Mjc3NzI1MH0._4WHgq4Sa2LLBKARJ4pSTY9PlgjeqIDV_8hiujumST0
2025-03-24 00:04:58 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ3YXJtc2VudGluZWw5MTEiLCJpYXQiOjE3NDI3NzM2NTAsImV4cCI6MTc0Mjc3NzI1MH0._4WHgq4Sa2LLBKARJ4pSTY9PlgjeqIDV_8hiujumST0
2025-03-24 00:04:58 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: warmsentinel911
2025-03-24 00:04:58 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:04:58 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: warmsentinel911
2025-03-24 00:04:58 [http-nio-8080-exec-5] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: warmsentinel911
2025-03-24 00:04:58 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 6AD3DBC74785F6E1D85EDC78E45349CC
2025-03-24 00:04:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/confirm-watched
2025-03-24 00:04:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/confirm-watched", parameters={}
2025-03-24 00:04:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#confirmWatched(HttpSession, ConfirmDestinationDto)
2025-03-24 00:04:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.ConfirmDestinationDto@66e93af6]
2025-03-24 00:04:58 [http-nio-8080-exec-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-s2htlewb session=null payload={"type":"watched","data":null}
2025-03-24 00:04:58 [http-nio-8080-exec-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:04:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:04:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:05:50 [clientInboundChannel-155] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-1 session=yplnwdhj
2025-03-24 00:05:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=yplnwdhj] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:05:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session yplnwdhj
2025-03-24 00:05:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742774750661
2025-03-24 00:05:50 [clientInboundChannel-158] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=yplnwdhj
2025-03-24 00:05:50 [clientOutboundChannel-110] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=yplnwdhj}], simpSessionId=yplnwdhj}]
2025-03-24 00:05:50 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:05:50 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:05:50 [http-nio-8080-exec-8] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:05:50 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:05:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742774750661
2025-03-24 00:05:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742774750661", parameters={masked}
2025-03-24 00:05:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:05:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742774750661
2025-03-24 00:05:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:05:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/290/cjvsmb0z/websocket
2025-03-24 00:05:50 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/290/cjvsmb0z/websocket
2025-03-24 00:05:50 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:05:50 [http-nio-8080-exec-10] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:05:50 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:05:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/290/cjvsmb0z/websocket
2025-03-24 00:05:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/290/cjvsmb0z/websocket", parameters={}
2025-03-24 00:05:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:05:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/290/cjvsmb0z/websocket
2025-03-24 00:05:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:05:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=cjvsmb0z]
2025-03-24 00:05:50 [clientInboundChannel-161] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=cjvsmb0z
2025-03-24 00:05:50 [clientInboundChannel-164] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-cjvsmb0z id=sub-0 session=cjvsmb0z
2025-03-24 00:05:50 [clientInboundChannel-166] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=cjvsmb0z, lookupDestination='/chat.addUser'
2025-03-24 00:05:50 [clientInboundChannel-166] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:05:50 [clientInboundChannel-166] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-cjvsmb0z session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:05:50 [clientInboundChannel-166] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:05:51 [clientInboundChannel-170] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-1 session=s2htlewb
2025-03-24 00:05:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=s2htlewb] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:05:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session s2htlewb
2025-03-24 00:05:51 [clientInboundChannel-173] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=s2htlewb
2025-03-24 00:05:51 [clientOutboundChannel-114] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=s2htlewb}], simpSessionId=s2htlewb}]
2025-03-24 00:05:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742774751520
2025-03-24 00:05:51 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:05:51 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:05:51 [http-nio-8080-exec-3] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:05:51 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:05:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742774751520
2025-03-24 00:05:51 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742774751520", parameters={masked}
2025-03-24 00:05:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:05:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742774751520
2025-03-24 00:05:51 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:05:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/813/xatcuzit/websocket
2025-03-24 00:05:51 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/813/xatcuzit/websocket
2025-03-24 00:05:51 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:05:51 [http-nio-8080-exec-5] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:05:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:05:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/813/xatcuzit/websocket
2025-03-24 00:05:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/813/xatcuzit/websocket", parameters={}
2025-03-24 00:05:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:05:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/813/xatcuzit/websocket
2025-03-24 00:05:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:05:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=xatcuzit]
2025-03-24 00:05:51 [clientInboundChannel-176] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=xatcuzit
2025-03-24 00:05:51 [clientInboundChannel-179] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-xatcuzit id=sub-0 session=xatcuzit
2025-03-24 00:05:51 [clientInboundChannel-181] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=xatcuzit, lookupDestination='/chat.addUser'
2025-03-24 00:05:51 [clientInboundChannel-181] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:05:51 [clientInboundChannel-181] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-xatcuzit session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:05:51 [clientInboundChannel-181] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:05:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/messages
2025-03-24 00:05:54 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/messages
2025-03-24 00:05:54 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ3YXJtc2VudGluZWw5MTEiLCJpYXQiOjE3NDI3NzM2NTAsImV4cCI6MTc0Mjc3NzI1MH0._4WHgq4Sa2LLBKARJ4pSTY9PlgjeqIDV_8hiujumST0
2025-03-24 00:05:54 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ3YXJtc2VudGluZWw5MTEiLCJpYXQiOjE3NDI3NzM2NTAsImV4cCI6MTc0Mjc3NzI1MH0._4WHgq4Sa2LLBKARJ4pSTY9PlgjeqIDV_8hiujumST0
2025-03-24 00:05:54 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: warmsentinel911
2025-03-24 00:05:54 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:05:54 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: warmsentinel911
2025-03-24 00:05:54 [http-nio-8080-exec-8] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: warmsentinel911
2025-03-24 00:05:54 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 5C1B70CAC98C7E92F42A274F64603B98
2025-03-24 00:05:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/messages
2025-03-24 00:05:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/messages", parameters={}
2025-03-24 00:05:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#sendMessage(HttpServletRequest, MessageDTO)
2025-03-24 00:05:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.MessageDTO@b9bc10b]
2025-03-24 00:05:54 [http-nio-8080-exec-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-xatcuzit session=null payload={"type":"message","data":{"content":null,"receiver":"lightbeast034","sender":"wa...(truncated)
2025-03-24 00:05:54 [http-nio-8080-exec-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:05:54 [http-nio-8080-exec-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-cjvsmb0z session=null payload={"type":"message","data":{"content":null,"receiver":"lightbeast034","sender":"wa...(truncated)
2025-03-24 00:05:54 [http-nio-8080-exec-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:05:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:05:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:05:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/confirm-watched
2025-03-24 00:05:54 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/confirm-watched
2025-03-24 00:05:54 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsaWdodGJlYXN0MDM0IiwiaWF0IjoxNzQyNzczNjQyLCJleHAiOjE3NDI3NzcyNDJ9.f8jYqKY6g_Jc38HMmHhdhR-HiryvBq4GrsmRpNUxakM
2025-03-24 00:05:54 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsaWdodGJlYXN0MDM0IiwiaWF0IjoxNzQyNzczNjQyLCJleHAiOjE3NDI3NzcyNDJ9.f8jYqKY6g_Jc38HMmHhdhR-HiryvBq4GrsmRpNUxakM
2025-03-24 00:05:54 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: lightbeast034
2025-03-24 00:05:54 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:05:54 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: lightbeast034
2025-03-24 00:05:54 [http-nio-8080-exec-10] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: lightbeast034
2025-03-24 00:05:54 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 856F7ECA5A259D2DBD78CCA8F2550B8E
2025-03-24 00:05:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/confirm-watched
2025-03-24 00:05:54 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/confirm-watched", parameters={}
2025-03-24 00:05:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#confirmWatched(HttpSession, ConfirmDestinationDto)
2025-03-24 00:05:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.ConfirmDestinationDto@21ac0df0]
2025-03-24 00:05:54 [http-nio-8080-exec-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-cjvsmb0z session=null payload={"type":"watched","data":null}
2025-03-24 00:05:54 [http-nio-8080-exec-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:05:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:05:54 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:05:57 [MessageBroker-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [yplnwdhj, s2htlewb]
2025-03-24 00:07:28 [clientInboundChannel-185] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-1 session=xatcuzit
2025-03-24 00:07:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=xatcuzit] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:07:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session xatcuzit
2025-03-24 00:07:28 [clientInboundChannel-188] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=xatcuzit
2025-03-24 00:07:28 [clientOutboundChannel-121] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=xatcuzit}], simpSessionId=xatcuzit}]
2025-03-24 00:07:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742774848121
2025-03-24 00:07:28 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:07:28 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:07:28 [http-nio-8080-exec-4] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:07:28 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:07:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742774848121
2025-03-24 00:07:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742774848121", parameters={masked}
2025-03-24 00:07:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:07:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742774848121
2025-03-24 00:07:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:07:28 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/907/xw1ewie4/websocket
2025-03-24 00:07:28 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/907/xw1ewie4/websocket
2025-03-24 00:07:28 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:07:28 [http-nio-8080-exec-3] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:07:28 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:07:28 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/907/xw1ewie4/websocket
2025-03-24 00:07:28 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/907/xw1ewie4/websocket", parameters={}
2025-03-24 00:07:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:07:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/907/xw1ewie4/websocket
2025-03-24 00:07:28 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:07:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=xw1ewie4]
2025-03-24 00:07:28 [clientInboundChannel-191] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=xw1ewie4
2025-03-24 00:07:28 [clientInboundChannel-194] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-xw1ewie4 id=sub-0 session=xw1ewie4
2025-03-24 00:07:28 [clientInboundChannel-196] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=xw1ewie4, lookupDestination='/chat.addUser'
2025-03-24 00:07:28 [clientInboundChannel-196] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:07:28 [clientInboundChannel-196] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-xw1ewie4 session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:07:28 [clientInboundChannel-196] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:07:28 [clientInboundChannel-200] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-1 session=cjvsmb0z
2025-03-24 00:07:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=cjvsmb0z] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:07:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session cjvsmb0z
2025-03-24 00:07:28 [clientInboundChannel-203] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=cjvsmb0z
2025-03-24 00:07:28 [clientOutboundChannel-125] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=cjvsmb0z}], simpSessionId=cjvsmb0z}]
2025-03-24 00:07:28 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742774848523
2025-03-24 00:07:28 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:07:28 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:07:28 [http-nio-8080-exec-10] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:07:28 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:07:28 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742774848523
2025-03-24 00:07:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742774848523", parameters={masked}
2025-03-24 00:07:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:07:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742774848523
2025-03-24 00:07:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:07:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/622/cwfxzva3/websocket
2025-03-24 00:07:28 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/622/cwfxzva3/websocket
2025-03-24 00:07:28 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:07:28 [http-nio-8080-exec-1] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:07:28 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:07:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/622/cwfxzva3/websocket
2025-03-24 00:07:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/622/cwfxzva3/websocket", parameters={}
2025-03-24 00:07:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:07:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/622/cwfxzva3/websocket
2025-03-24 00:07:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:07:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=cwfxzva3]
2025-03-24 00:07:28 [clientInboundChannel-206] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=cwfxzva3
2025-03-24 00:07:28 [clientInboundChannel-209] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-cwfxzva3 id=sub-0 session=cwfxzva3
2025-03-24 00:07:28 [clientInboundChannel-211] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=cwfxzva3, lookupDestination='/chat.addUser'
2025-03-24 00:07:28 [clientInboundChannel-211] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:07:28 [clientInboundChannel-211] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-cwfxzva3 session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:07:28 [clientInboundChannel-211] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:07:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/messages
2025-03-24 00:07:35 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/messages
2025-03-24 00:07:35 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsaWdodGJlYXN0MDM0IiwiaWF0IjoxNzQyNzczNjQyLCJleHAiOjE3NDI3NzcyNDJ9.f8jYqKY6g_Jc38HMmHhdhR-HiryvBq4GrsmRpNUxakM
2025-03-24 00:07:35 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsaWdodGJlYXN0MDM0IiwiaWF0IjoxNzQyNzczNjQyLCJleHAiOjE3NDI3NzcyNDJ9.f8jYqKY6g_Jc38HMmHhdhR-HiryvBq4GrsmRpNUxakM
2025-03-24 00:07:35 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: lightbeast034
2025-03-24 00:07:35 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:07:35 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: lightbeast034
2025-03-24 00:07:35 [http-nio-8080-exec-4] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: lightbeast034
2025-03-24 00:07:35 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from BB2A1D2B7A927CF66DAE364AF3FE8932
2025-03-24 00:07:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/messages
2025-03-24 00:07:35 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/messages", parameters={}
2025-03-24 00:07:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#sendMessage(HttpServletRequest, MessageDTO)
2025-03-24 00:07:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.MessageDTO@50add30b]
2025-03-24 00:07:35 [http-nio-8080-exec-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-cwfxzva3 session=null payload={"type":"message","data":{"content":null,"receiver":"warmsentinel911","sender":"...(truncated)
2025-03-24 00:07:35 [http-nio-8080-exec-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:07:35 [http-nio-8080-exec-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-xw1ewie4 session=null payload={"type":"message","data":{"content":null,"receiver":"warmsentinel911","sender":"...(truncated)
2025-03-24 00:07:35 [http-nio-8080-exec-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:07:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:07:35 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:07:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/confirm-watched
2025-03-24 00:07:35 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/confirm-watched
2025-03-24 00:07:35 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ3YXJtc2VudGluZWw5MTEiLCJpYXQiOjE3NDI3NzM2NTAsImV4cCI6MTc0Mjc3NzI1MH0._4WHgq4Sa2LLBKARJ4pSTY9PlgjeqIDV_8hiujumST0
2025-03-24 00:07:35 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ3YXJtc2VudGluZWw5MTEiLCJpYXQiOjE3NDI3NzM2NTAsImV4cCI6MTc0Mjc3NzI1MH0._4WHgq4Sa2LLBKARJ4pSTY9PlgjeqIDV_8hiujumST0
2025-03-24 00:07:35 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: warmsentinel911
2025-03-24 00:07:35 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:07:35 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: warmsentinel911
2025-03-24 00:07:35 [http-nio-8080-exec-3] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: warmsentinel911
2025-03-24 00:07:35 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 6C62B8B1ABDD17B360CF348FD30ED956
2025-03-24 00:07:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/confirm-watched
2025-03-24 00:07:35 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/confirm-watched", parameters={}
2025-03-24 00:07:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#confirmWatched(HttpSession, ConfirmDestinationDto)
2025-03-24 00:07:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.ConfirmDestinationDto@790145c2]
2025-03-24 00:07:35 [http-nio-8080-exec-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-xw1ewie4 session=null payload={"type":"watched","data":null}
2025-03-24 00:07:35 [http-nio-8080-exec-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:07:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:07:35 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:07:37 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [xatcuzit, cjvsmb0z]
2025-03-24 00:07:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/messages
2025-03-24 00:07:41 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/messages
2025-03-24 00:07:41 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsaWdodGJlYXN0MDM0IiwiaWF0IjoxNzQyNzczNjQyLCJleHAiOjE3NDI3NzcyNDJ9.f8jYqKY6g_Jc38HMmHhdhR-HiryvBq4GrsmRpNUxakM
2025-03-24 00:07:41 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsaWdodGJlYXN0MDM0IiwiaWF0IjoxNzQyNzczNjQyLCJleHAiOjE3NDI3NzcyNDJ9.f8jYqKY6g_Jc38HMmHhdhR-HiryvBq4GrsmRpNUxakM
2025-03-24 00:07:41 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: lightbeast034
2025-03-24 00:07:41 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:07:41 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: lightbeast034
2025-03-24 00:07:41 [http-nio-8080-exec-5] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: lightbeast034
2025-03-24 00:07:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 296964C7BE64B56E6C22AFD03EAE5913
2025-03-24 00:07:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/messages
2025-03-24 00:07:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/messages", parameters={}
2025-03-24 00:07:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#sendMessage(HttpServletRequest, MessageDTO)
2025-03-24 00:07:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.MessageDTO@24a0ad44]
2025-03-24 00:07:41 [http-nio-8080-exec-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-cwfxzva3 session=null payload={"type":"message","data":{"content":null,"receiver":"warmsentinel911","sender":"...(truncated)
2025-03-24 00:07:41 [http-nio-8080-exec-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:07:41 [http-nio-8080-exec-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-xw1ewie4 session=null payload={"type":"message","data":{"content":null,"receiver":"warmsentinel911","sender":"...(truncated)
2025-03-24 00:07:41 [http-nio-8080-exec-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:07:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:07:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:07:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/confirm-watched
2025-03-24 00:07:41 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/confirm-watched
2025-03-24 00:07:41 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ3YXJtc2VudGluZWw5MTEiLCJpYXQiOjE3NDI3NzM2NTAsImV4cCI6MTc0Mjc3NzI1MH0._4WHgq4Sa2LLBKARJ4pSTY9PlgjeqIDV_8hiujumST0
2025-03-24 00:07:41 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ3YXJtc2VudGluZWw5MTEiLCJpYXQiOjE3NDI3NzM2NTAsImV4cCI6MTc0Mjc3NzI1MH0._4WHgq4Sa2LLBKARJ4pSTY9PlgjeqIDV_8hiujumST0
2025-03-24 00:07:41 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: warmsentinel911
2025-03-24 00:07:41 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:07:41 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: warmsentinel911
2025-03-24 00:07:41 [http-nio-8080-exec-6] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: warmsentinel911
2025-03-24 00:07:41 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from BA4C3B60988A877D851DBD580F1FA764
2025-03-24 00:07:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/confirm-watched
2025-03-24 00:07:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/confirm-watched", parameters={}
2025-03-24 00:07:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#confirmWatched(HttpSession, ConfirmDestinationDto)
2025-03-24 00:07:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.ConfirmDestinationDto@500b42d8]
2025-03-24 00:07:41 [http-nio-8080-exec-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-xw1ewie4 session=null payload={"type":"watched","data":null}
2025-03-24 00:07:41 [http-nio-8080-exec-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:07:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:07:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:09:55 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=cwfxzva3] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:09:55 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session cwfxzva3
2025-03-24 00:09:55 [clientInboundChannel-215] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=cwfxzva3
2025-03-24 00:09:55 [clientOutboundChannel-134] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=cwfxzva3}], simpSessionId=cwfxzva3}]
2025-03-24 00:09:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /pool/enter
2025-03-24 00:09:57 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /pool/enter
2025-03-24 00:09:57 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:09:57 [http-nio-8080-exec-10] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:09:57 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:09:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /pool/enter
2025-03-24 00:09:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/pool/enter", parameters={}
2025-03-24 00:09:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.AuthenticationController#authenticateToPool(HttpServletRequest, UserDataDto)
2025-03-24 00:09:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UserDataDto(userAgent=Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/ (truncated)...]
2025-03-24 00:09:57 [http-nio-8080-exec-10] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-03-24 00:09:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-03-24 00:09:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.ndev.privchat.privchat.responses.LoginResponse@34f5279d]
2025-03-24 00:09:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:09:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742774997421
2025-03-24 00:09:57 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:09:57 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:09:57 [http-nio-8080-exec-1] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:09:57 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:09:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742774997421
2025-03-24 00:09:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742774997421", parameters={masked}
2025-03-24 00:09:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:09:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742774997421
2025-03-24 00:09:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:09:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742774997421
2025-03-24 00:09:57 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:09:57 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:09:57 [http-nio-8080-exec-9] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:09:57 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:09:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742774997421
2025-03-24 00:09:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742774997421", parameters={masked}
2025-03-24 00:09:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:09:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742774997421
2025-03-24 00:09:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:09:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/483/hw00lzyb/websocket
2025-03-24 00:09:57 [http-nio-8080-exec-2] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/483/hw00lzyb/websocket
2025-03-24 00:09:57 [http-nio-8080-exec-2] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:09:57 [http-nio-8080-exec-2] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:09:57 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:09:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/483/hw00lzyb/websocket
2025-03-24 00:09:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/483/hw00lzyb/websocket", parameters={}
2025-03-24 00:09:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:09:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/483/hw00lzyb/websocket
2025-03-24 00:09:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:09:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=hw00lzyb]
2025-03-24 00:09:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/228/24lytmhs/websocket
2025-03-24 00:09:57 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/228/24lytmhs/websocket
2025-03-24 00:09:57 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:09:57 [http-nio-8080-exec-4] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:09:57 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:09:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/228/24lytmhs/websocket
2025-03-24 00:09:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/228/24lytmhs/websocket", parameters={}
2025-03-24 00:09:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:09:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/228/24lytmhs/websocket
2025-03-24 00:09:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:09:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=24lytmhs]
2025-03-24 00:09:57 [clientInboundChannel-218] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=24lytmhs
2025-03-24 00:09:57 [clientInboundChannel-221] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-24lytmhs id=sub-0 session=24lytmhs
2025-03-24 00:09:57 [clientInboundChannel-223] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=24lytmhs, lookupDestination='/chat.addUser'
2025-03-24 00:09:57 [clientInboundChannel-223] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:09:57 [clientInboundChannel-223] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-24lytmhs session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:09:57 [clientInboundChannel-223] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:10:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=xw1ewie4] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:10:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session xw1ewie4
2025-03-24 00:10:00 [clientInboundChannel-227] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=xw1ewie4
2025-03-24 00:10:00 [clientOutboundChannel-137] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=xw1ewie4}], simpSessionId=xw1ewie4}]
2025-03-24 00:10:02 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /pool/enter
2025-03-24 00:10:02 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /pool/enter
2025-03-24 00:10:02 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:10:02 [http-nio-8080-exec-7] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:10:02 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:10:02 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /pool/enter
2025-03-24 00:10:02 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/pool/enter", parameters={}
2025-03-24 00:10:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.AuthenticationController#authenticateToPool(HttpServletRequest, UserDataDto)
2025-03-24 00:10:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UserDataDto(userAgent=Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/ (truncated)...]
2025-03-24 00:10:02 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-03-24 00:10:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-03-24 00:10:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.ndev.privchat.privchat.responses.LoginResponse@3ff76076]
2025-03-24 00:10:02 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:10:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742775002165
2025-03-24 00:10:02 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:10:02 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:10:02 [http-nio-8080-exec-8] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:10:02 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742775002166
2025-03-24 00:10:02 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:10:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742775002165
2025-03-24 00:10:02 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742775002165", parameters={masked}
2025-03-24 00:10:02 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:10:02 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:10:02 [http-nio-8080-exec-10] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:10:02 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:10:02 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742775002166
2025-03-24 00:10:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:10:02 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742775002166", parameters={masked}
2025-03-24 00:10:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742775002165
2025-03-24 00:10:02 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:10:02 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742775002166
2025-03-24 00:10:02 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:10:02 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:10:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/741/0ck2l4z2/websocket
2025-03-24 00:10:02 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/741/0ck2l4z2/websocket
2025-03-24 00:10:02 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:10:02 [http-nio-8080-exec-1] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:10:02 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:10:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/741/0ck2l4z2/websocket
2025-03-24 00:10:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/741/0ck2l4z2/websocket", parameters={}
2025-03-24 00:10:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:10:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/741/0ck2l4z2/websocket
2025-03-24 00:10:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:10:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=0ck2l4z2]
2025-03-24 00:10:02 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/618/ugpsu425/websocket
2025-03-24 00:10:02 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/618/ugpsu425/websocket
2025-03-24 00:10:02 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:10:02 [http-nio-8080-exec-9] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:10:02 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:10:02 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/618/ugpsu425/websocket
2025-03-24 00:10:02 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/618/ugpsu425/websocket", parameters={}
2025-03-24 00:10:02 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:10:02 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/618/ugpsu425/websocket
2025-03-24 00:10:02 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:10:02 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ugpsu425]
2025-03-24 00:10:02 [clientInboundChannel-230] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=ugpsu425
2025-03-24 00:10:02 [clientInboundChannel-233] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-ugpsu425 id=sub-0 session=ugpsu425
2025-03-24 00:10:02 [clientInboundChannel-235] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=ugpsu425, lookupDestination='/chat.addUser'
2025-03-24 00:10:02 [clientInboundChannel-235] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:10:02 [clientInboundChannel-235] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-ugpsu425 session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:10:02 [clientInboundChannel-235] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:10:02 [MessageBroker-16] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [cwfxzva3]
2025-03-24 00:10:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /encrypt-chat/create
2025-03-24 00:10:03 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /encrypt-chat/create
2025-03-24 00:10:03 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:10:03 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:10:03 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: strongcave329
2025-03-24 00:10:03 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:10:03 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: strongcave329
2025-03-24 00:10:03 [http-nio-8080-exec-3] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: strongcave329
2025-03-24 00:10:03 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 24C5E360C611FD77D587DA6F0B5977CA
2025-03-24 00:10:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /encrypt-chat/create
2025-03-24 00:10:03 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/encrypt-chat/create", parameters={}
2025-03-24 00:10:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.EncryptionController#createChatRequest(HttpServletRequest, EncryptionChatRequest)
2025-03-24 00:10:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [EncryptionChatRequest(requesterNickname=null, requestedNickname=loyalforge706, requestedPublicKey=nu (truncated)...]
2025-03-24 00:10:03 [http-nio-8080-exec-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-24lytmhs session=null payload={"type":"request","data":"request"}
2025-03-24 00:10:03 [http-nio-8080-exec-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:10:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [text/plain, */*, application/json, application/*+json]
2025-03-24 00:10:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [""]
2025-03-24 00:10:03 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:10:03 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /encrypt-chat/process
2025-03-24 00:10:03 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /encrypt-chat/process
2025-03-24 00:10:03 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsb3lhbGZvcmdlNzA2IiwiaWF0IjoxNzQyNzc0OTk3LCJleHAiOjE3NDI3Nzg1OTd9.ipAG-Fmzt28hYdyNgg284aMGfSDNokOMVTrc_PxZIPA
2025-03-24 00:10:03 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsb3lhbGZvcmdlNzA2IiwiaWF0IjoxNzQyNzc0OTk3LCJleHAiOjE3NDI3Nzg1OTd9.ipAG-Fmzt28hYdyNgg284aMGfSDNokOMVTrc_PxZIPA
2025-03-24 00:10:03 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: loyalforge706
2025-03-24 00:10:03 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:10:03 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: loyalforge706
2025-03-24 00:10:03 [http-nio-8080-exec-5] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: loyalforge706
2025-03-24 00:10:03 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from FA345CD5EF348E18FDDDF869F0997923
2025-03-24 00:10:03 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /encrypt-chat/process
2025-03-24 00:10:03 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/encrypt-chat/process", parameters={}
2025-03-24 00:10:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.EncryptionController#processChatRequests(HttpServletRequest, String)
2025-03-24 00:10:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "text/plain;charset=UTF-8" to ["1486195288901293265377918014122210056464912432209872593848798435117008873135143069065254677502736403 (truncated)..."]
2025-03-24 00:10:03 [http-nio-8080-exec-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-ugpsu425 session=null payload={"type":"request","data":"request"}
2025-03-24 00:10:03 [http-nio-8080-exec-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:10:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-03-24 00:10:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[EncryptionChatRequest(requesterNickname=strongcave329, requestedNickname=loyalforge706, requestedPu (truncated)...]
2025-03-24 00:10:03 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:10:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /encrypt-chat/process
2025-03-24 00:10:03 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /encrypt-chat/process
2025-03-24 00:10:03 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:10:03 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:10:03 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: strongcave329
2025-03-24 00:10:03 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:10:03 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: strongcave329
2025-03-24 00:10:03 [http-nio-8080-exec-6] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: strongcave329
2025-03-24 00:10:03 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 2D83AC7A242DD8C4139A72BF964D9B8D
2025-03-24 00:10:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /encrypt-chat/process
2025-03-24 00:10:03 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/encrypt-chat/process", parameters={}
2025-03-24 00:10:03 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.EncryptionController#processChatRequests(HttpServletRequest, String)
2025-03-24 00:10:03 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "text/plain;charset=UTF-8" to ["4757889625285442342777129763997977321705734527292212738742901460009231543917427906649610625375749274 (truncated)..."]
2025-03-24 00:10:03 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-03-24 00:10:03 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[EncryptionChatRequest(requesterNickname=strongcave329, requestedNickname=loyalforge706, requestedPu (truncated)...]
2025-03-24 00:10:03 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:10:07 [MessageBroker-11] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [xw1ewie4]
2025-03-24 00:10:43 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/messages
2025-03-24 00:10:43 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/messages
2025-03-24 00:10:43 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsb3lhbGZvcmdlNzA2IiwiaWF0IjoxNzQyNzc0OTk3LCJleHAiOjE3NDI3Nzg1OTd9.ipAG-Fmzt28hYdyNgg284aMGfSDNokOMVTrc_PxZIPA
2025-03-24 00:10:43 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsb3lhbGZvcmdlNzA2IiwiaWF0IjoxNzQyNzc0OTk3LCJleHAiOjE3NDI3Nzg1OTd9.ipAG-Fmzt28hYdyNgg284aMGfSDNokOMVTrc_PxZIPA
2025-03-24 00:10:43 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: loyalforge706
2025-03-24 00:10:43 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:10:43 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: loyalforge706
2025-03-24 00:10:43 [http-nio-8080-exec-7] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: loyalforge706
2025-03-24 00:10:43 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 5F8CB79C0EABC756CE3276514B88270B
2025-03-24 00:10:43 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/messages
2025-03-24 00:10:43 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/messages", parameters={}
2025-03-24 00:10:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#sendMessage(HttpServletRequest, MessageDTO)
2025-03-24 00:10:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.MessageDTO@18ed110c]
2025-03-24 00:10:43 [http-nio-8080-exec-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-ugpsu425 session=null payload={"type":"message","data":{"content":"U2FsdGVkX18L3IK+3SYo070y2wK8WrIQLmLu5KJpAtw...(truncated)
2025-03-24 00:10:43 [http-nio-8080-exec-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:10:43 [http-nio-8080-exec-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-24lytmhs session=null payload={"type":"message","data":{"content":"U2FsdGVkX18L3IK+3SYo070y2wK8WrIQLmLu5KJpAtw...(truncated)
2025-03-24 00:10:43 [http-nio-8080-exec-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:10:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:10:43 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:10:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /chat/confirm-reached
2025-03-24 00:10:43 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/confirm-reached
2025-03-24 00:10:43 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/confirm-reached
2025-03-24 00:10:43 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:10:43 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:10:43 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: strongcave329
2025-03-24 00:10:43 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:10:43 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: strongcave329
2025-03-24 00:10:43 [http-nio-8080-exec-8] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: strongcave329
2025-03-24 00:10:43 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 6259C861C457A39ABAF2ABE2BF6D45C2
2025-03-24 00:10:43 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/confirm-reached
2025-03-24 00:10:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/confirm-reached", parameters={}
2025-03-24 00:10:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#confirmReached(HttpSession, ConfirmDestinationDto)
2025-03-24 00:10:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.ConfirmDestinationDto@214b0010]
2025-03-24 00:10:43 [http-nio-8080-exec-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-24lytmhs session=null payload={"type":"reached","data":"Sa9cyhaI"}
2025-03-24 00:10:43 [http-nio-8080-exec-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:10:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:10:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:10:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/confirm-watched
2025-03-24 00:10:45 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/confirm-watched
2025-03-24 00:10:45 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:10:45 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:10:45 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: strongcave329
2025-03-24 00:10:45 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:10:45 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: strongcave329
2025-03-24 00:10:45 [http-nio-8080-exec-1] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: strongcave329
2025-03-24 00:10:45 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 5C4932FDA99631A86E0C1811AA4D5D15
2025-03-24 00:10:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/confirm-watched
2025-03-24 00:10:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/confirm-watched", parameters={}
2025-03-24 00:10:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#confirmWatched(HttpSession, ConfirmDestinationDto)
2025-03-24 00:10:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.ConfirmDestinationDto@79567937]
2025-03-24 00:10:45 [http-nio-8080-exec-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-24lytmhs session=null payload={"type":"watched","data":"Sa9cyhaI"}
2025-03-24 00:10:45 [http-nio-8080-exec-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:10:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:10:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:10:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/confirm-watched
2025-03-24 00:10:48 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/confirm-watched
2025-03-24 00:10:48 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:10:48 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:10:48 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: strongcave329
2025-03-24 00:10:48 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:10:48 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: strongcave329
2025-03-24 00:10:48 [http-nio-8080-exec-9] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: strongcave329
2025-03-24 00:10:48 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 03E3EEC87B058319AA4C6A8D61FD4097
2025-03-24 00:10:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/confirm-watched
2025-03-24 00:10:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/confirm-watched", parameters={}
2025-03-24 00:10:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#confirmWatched(HttpSession, ConfirmDestinationDto)
2025-03-24 00:10:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.ConfirmDestinationDto@54999d10]
2025-03-24 00:10:48 [http-nio-8080-exec-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-24lytmhs session=null payload={"type":"watched","data":"Sa9cyhaI"}
2025-03-24 00:10:48 [http-nio-8080-exec-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:10:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:10:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:10:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/messages
2025-03-24 00:10:51 [http-nio-8080-exec-2] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/messages
2025-03-24 00:10:51 [http-nio-8080-exec-2] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:10:51 [http-nio-8080-exec-2] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:10:51 [http-nio-8080-exec-2] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: strongcave329
2025-03-24 00:10:51 [http-nio-8080-exec-2] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:10:51 [http-nio-8080-exec-2] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: strongcave329
2025-03-24 00:10:51 [http-nio-8080-exec-2] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: strongcave329
2025-03-24 00:10:51 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 9C6BC364869BEA387A83CD57D4B8C296
2025-03-24 00:10:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/messages
2025-03-24 00:10:51 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/messages", parameters={}
2025-03-24 00:10:51 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#sendMessage(HttpServletRequest, MessageDTO)
2025-03-24 00:10:51 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.MessageDTO@4d27e5db]
2025-03-24 00:10:51 [http-nio-8080-exec-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-24lytmhs session=null payload={"type":"message","data":{"content":null,"receiver":"loyalforge706","sender":"st...(truncated)
2025-03-24 00:10:51 [http-nio-8080-exec-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:10:51 [http-nio-8080-exec-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-ugpsu425 session=null payload={"type":"message","data":{"content":null,"receiver":"loyalforge706","sender":"st...(truncated)
2025-03-24 00:10:51 [http-nio-8080-exec-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:10:51 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:10:51 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:10:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/confirm-watched
2025-03-24 00:10:51 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/confirm-watched
2025-03-24 00:10:51 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsb3lhbGZvcmdlNzA2IiwiaWF0IjoxNzQyNzc0OTk3LCJleHAiOjE3NDI3Nzg1OTd9.ipAG-Fmzt28hYdyNgg284aMGfSDNokOMVTrc_PxZIPA
2025-03-24 00:10:51 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsb3lhbGZvcmdlNzA2IiwiaWF0IjoxNzQyNzc0OTk3LCJleHAiOjE3NDI3Nzg1OTd9.ipAG-Fmzt28hYdyNgg284aMGfSDNokOMVTrc_PxZIPA
2025-03-24 00:10:51 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: loyalforge706
2025-03-24 00:10:51 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:10:51 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: loyalforge706
2025-03-24 00:10:51 [http-nio-8080-exec-4] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: loyalforge706
2025-03-24 00:10:51 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from FBED8E7487E3FE5C27488356EA750625
2025-03-24 00:10:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/confirm-watched
2025-03-24 00:10:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/confirm-watched", parameters={}
2025-03-24 00:10:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#confirmWatched(HttpSession, ConfirmDestinationDto)
2025-03-24 00:10:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.ConfirmDestinationDto@6f13aa08]
2025-03-24 00:10:51 [http-nio-8080-exec-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-ugpsu425 session=null payload={"type":"watched","data":null}
2025-03-24 00:10:51 [http-nio-8080-exec-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:10:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:10:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:10:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/messages
2025-03-24 00:10:57 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/messages
2025-03-24 00:10:57 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:10:57 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:10:57 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: strongcave329
2025-03-24 00:10:57 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:10:57 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: strongcave329
2025-03-24 00:10:57 [http-nio-8080-exec-3] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: strongcave329
2025-03-24 00:10:57 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from D5D6EC5A97B7A2D343D7CA5DCCDC16E6
2025-03-24 00:10:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/messages
2025-03-24 00:10:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/messages", parameters={}
2025-03-24 00:10:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#sendMessage(HttpServletRequest, MessageDTO)
2025-03-24 00:10:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.MessageDTO@40e87875]
2025-03-24 00:10:57 [http-nio-8080-exec-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-24lytmhs session=null payload={"type":"message","data":{"content":null,"receiver":"loyalforge706","sender":"st...(truncated)
2025-03-24 00:10:57 [http-nio-8080-exec-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:10:57 [http-nio-8080-exec-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-ugpsu425 session=null payload={"type":"message","data":{"content":null,"receiver":"loyalforge706","sender":"st...(truncated)
2025-03-24 00:10:57 [http-nio-8080-exec-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:10:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:10:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:10:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/confirm-watched
2025-03-24 00:10:57 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/confirm-watched
2025-03-24 00:10:57 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsb3lhbGZvcmdlNzA2IiwiaWF0IjoxNzQyNzc0OTk3LCJleHAiOjE3NDI3Nzg1OTd9.ipAG-Fmzt28hYdyNgg284aMGfSDNokOMVTrc_PxZIPA
2025-03-24 00:10:57 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsb3lhbGZvcmdlNzA2IiwiaWF0IjoxNzQyNzc0OTk3LCJleHAiOjE3NDI3Nzg1OTd9.ipAG-Fmzt28hYdyNgg284aMGfSDNokOMVTrc_PxZIPA
2025-03-24 00:10:57 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: loyalforge706
2025-03-24 00:10:57 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:10:57 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: loyalforge706
2025-03-24 00:10:57 [http-nio-8080-exec-5] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: loyalforge706
2025-03-24 00:10:57 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from D00E3FF053EA8F406B43FDCE72C42339
2025-03-24 00:10:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/confirm-watched
2025-03-24 00:10:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/confirm-watched", parameters={}
2025-03-24 00:10:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#confirmWatched(HttpSession, ConfirmDestinationDto)
2025-03-24 00:10:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.ConfirmDestinationDto@3e2f626]
2025-03-24 00:10:57 [http-nio-8080-exec-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-ugpsu425 session=null payload={"type":"watched","data":null}
2025-03-24 00:10:57 [http-nio-8080-exec-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:10:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:10:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:10:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/messages
2025-03-24 00:10:58 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/messages
2025-03-24 00:10:58 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:10:58 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:10:58 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: strongcave329
2025-03-24 00:10:58 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:10:58 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: strongcave329
2025-03-24 00:10:58 [http-nio-8080-exec-6] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: strongcave329
2025-03-24 00:10:58 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 238DBD9D6DA8811C29A5C838A8785BD1
2025-03-24 00:10:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/messages
2025-03-24 00:10:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/messages", parameters={}
2025-03-24 00:10:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#sendMessage(HttpServletRequest, MessageDTO)
2025-03-24 00:10:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.MessageDTO@2670dbab]
2025-03-24 00:10:58 [http-nio-8080-exec-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-24lytmhs session=null payload={"type":"message","data":{"content":null,"receiver":"loyalforge706","sender":"st...(truncated)
2025-03-24 00:10:58 [http-nio-8080-exec-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:10:58 [http-nio-8080-exec-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-ugpsu425 session=null payload={"type":"message","data":{"content":null,"receiver":"loyalforge706","sender":"st...(truncated)
2025-03-24 00:10:58 [http-nio-8080-exec-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:10:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:10:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:10:58 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/confirm-watched
2025-03-24 00:10:58 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/confirm-watched
2025-03-24 00:10:58 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsb3lhbGZvcmdlNzA2IiwiaWF0IjoxNzQyNzc0OTk3LCJleHAiOjE3NDI3Nzg1OTd9.ipAG-Fmzt28hYdyNgg284aMGfSDNokOMVTrc_PxZIPA
2025-03-24 00:10:58 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsb3lhbGZvcmdlNzA2IiwiaWF0IjoxNzQyNzc0OTk3LCJleHAiOjE3NDI3Nzg1OTd9.ipAG-Fmzt28hYdyNgg284aMGfSDNokOMVTrc_PxZIPA
2025-03-24 00:10:58 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: loyalforge706
2025-03-24 00:10:58 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:10:58 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: loyalforge706
2025-03-24 00:10:58 [http-nio-8080-exec-7] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: loyalforge706
2025-03-24 00:10:58 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 555D0804454FEF2B8CD7190EF95208DD
2025-03-24 00:10:58 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/confirm-watched
2025-03-24 00:10:58 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/confirm-watched", parameters={}
2025-03-24 00:10:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#confirmWatched(HttpSession, ConfirmDestinationDto)
2025-03-24 00:10:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.ConfirmDestinationDto@783e773b]
2025-03-24 00:10:58 [http-nio-8080-exec-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-ugpsu425 session=null payload={"type":"watched","data":null}
2025-03-24 00:10:58 [http-nio-8080-exec-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:10:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:10:58 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:14:59 [clientInboundChannel-239] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-1 session=ugpsu425
2025-03-24 00:14:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ugpsu425] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:14:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session ugpsu425
2025-03-24 00:14:59 [clientInboundChannel-242] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=ugpsu425
2025-03-24 00:14:59 [clientOutboundChannel-157] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=ugpsu425}], simpSessionId=ugpsu425}]
2025-03-24 00:14:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742775299197
2025-03-24 00:14:59 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:14:59 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:14:59 [http-nio-8080-exec-4] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:14:59 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:14:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742775299197
2025-03-24 00:14:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742775299197", parameters={masked}
2025-03-24 00:14:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:14:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742775299197
2025-03-24 00:14:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:14:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/557/0jkrbqkm/websocket
2025-03-24 00:14:59 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/557/0jkrbqkm/websocket
2025-03-24 00:14:59 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:14:59 [http-nio-8080-exec-3] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:14:59 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:14:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/557/0jkrbqkm/websocket
2025-03-24 00:14:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/557/0jkrbqkm/websocket", parameters={}
2025-03-24 00:14:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:14:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/557/0jkrbqkm/websocket
2025-03-24 00:14:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:14:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=0jkrbqkm]
2025-03-24 00:14:59 [http-nio-8080-exec-3] INFO  o.s.w.s.m.SubProtocolWebSocketHandler - No messages received after 297057 ms. Closing WebSocketServerSockJsSession[id=0ck2l4z2].
2025-03-24 00:14:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session 0ck2l4z2 with CloseStatus[code=4500, reason=Failed to send message within the configured send limit]
2025-03-24 00:14:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=9e22f57b-5bac-1d3a-6758-9c962d4af3ea, uri=ws://localhost:8080/ws/741/0ck2l4z2/websocket]
2025-03-24 00:14:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=0ck2l4z2] closed with CloseStatus[code=4500, reason=Failed to send message within the configured send limit]
2025-03-24 00:14:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 0ck2l4z2
2025-03-24 00:14:59 [clientInboundChannel-245] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=0ck2l4z2
2025-03-24 00:14:59 [http-nio-8080-exec-3] INFO  o.s.w.s.m.SubProtocolWebSocketHandler - No messages received after 301800 ms. Closing WebSocketServerSockJsSession[id=hw00lzyb].
2025-03-24 00:14:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session hw00lzyb with CloseStatus[code=4500, reason=Failed to send message within the configured send limit]
2025-03-24 00:14:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=22ebf259-6b68-7645-e4d7-16b00bb4a776, uri=ws://localhost:8080/ws/483/hw00lzyb/websocket]
2025-03-24 00:14:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=hw00lzyb] closed with CloseStatus[code=4500, reason=Failed to send message within the configured send limit]
2025-03-24 00:14:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session hw00lzyb
2025-03-24 00:14:59 [clientOutboundChannel-158] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=0ck2l4z2}], simpSessionId=0ck2l4z2}]
2025-03-24 00:14:59 [clientInboundChannel-248] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=hw00lzyb
2025-03-24 00:14:59 [clientOutboundChannel-159] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=hw00lzyb}], simpSessionId=hw00lzyb}]
2025-03-24 00:14:59 [clientInboundChannel-251] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=0jkrbqkm
2025-03-24 00:14:59 [clientInboundChannel-254] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-0jkrbqkm id=sub-0 session=0jkrbqkm
2025-03-24 00:14:59 [clientInboundChannel-256] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=0jkrbqkm, lookupDestination='/chat.addUser'
2025-03-24 00:14:59 [clientInboundChannel-256] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:14:59 [clientInboundChannel-256] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-0jkrbqkm session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:14:59 [clientInboundChannel-256] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:14:59 [clientInboundChannel-260] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-1 session=24lytmhs
2025-03-24 00:14:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=24lytmhs] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:14:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 24lytmhs
2025-03-24 00:14:59 [clientInboundChannel-263] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=24lytmhs
2025-03-24 00:14:59 [clientOutboundChannel-163] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=24lytmhs}], simpSessionId=24lytmhs}]
2025-03-24 00:14:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742775299519
2025-03-24 00:14:59 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:14:59 [http-nio-8080-exec-9] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:14:59 [http-nio-8080-exec-9] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:14:59 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:14:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742775299519
2025-03-24 00:14:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742775299519", parameters={masked}
2025-03-24 00:14:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:14:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742775299519
2025-03-24 00:14:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:14:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/792/wflqmx14/websocket
2025-03-24 00:14:59 [http-nio-8080-exec-2] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/792/wflqmx14/websocket
2025-03-24 00:14:59 [http-nio-8080-exec-2] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:14:59 [http-nio-8080-exec-2] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:14:59 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:14:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/792/wflqmx14/websocket
2025-03-24 00:14:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/792/wflqmx14/websocket", parameters={}
2025-03-24 00:14:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:14:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/792/wflqmx14/websocket
2025-03-24 00:14:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:14:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=wflqmx14]
2025-03-24 00:14:59 [clientInboundChannel-266] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=wflqmx14
2025-03-24 00:14:59 [clientInboundChannel-269] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-wflqmx14 id=sub-0 session=wflqmx14
2025-03-24 00:14:59 [clientInboundChannel-240] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=wflqmx14, lookupDestination='/chat.addUser'
2025-03-24 00:14:59 [clientInboundChannel-240] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:14:59 [clientInboundChannel-240] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-wflqmx14 session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:14:59 [clientInboundChannel-240] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:15:01 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/messages
2025-03-24 00:15:01 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/messages
2025-03-24 00:15:01 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:15:01 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:15:01 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: strongcave329
2025-03-24 00:15:01 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:15:01 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: strongcave329
2025-03-24 00:15:01 [http-nio-8080-exec-6] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: strongcave329
2025-03-24 00:15:01 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 51428BD71BD76329840DD8CEF80D24A5
2025-03-24 00:15:01 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/messages
2025-03-24 00:15:01 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/messages", parameters={}
2025-03-24 00:15:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#sendMessage(HttpServletRequest, MessageDTO)
2025-03-24 00:15:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.MessageDTO@3b4df3b1]
2025-03-24 00:15:01 [http-nio-8080-exec-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-wflqmx14 session=null payload={"type":"message","data":{"content":null,"receiver":"loyalforge706","sender":"st...(truncated)
2025-03-24 00:15:01 [http-nio-8080-exec-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:15:01 [http-nio-8080-exec-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-0jkrbqkm session=null payload={"type":"message","data":{"content":null,"receiver":"loyalforge706","sender":"st...(truncated)
2025-03-24 00:15:01 [http-nio-8080-exec-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:15:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:15:01 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:15:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/confirm-watched
2025-03-24 00:15:01 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/confirm-watched
2025-03-24 00:15:01 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsb3lhbGZvcmdlNzA2IiwiaWF0IjoxNzQyNzc0OTk3LCJleHAiOjE3NDI3Nzg1OTd9.ipAG-Fmzt28hYdyNgg284aMGfSDNokOMVTrc_PxZIPA
2025-03-24 00:15:01 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsb3lhbGZvcmdlNzA2IiwiaWF0IjoxNzQyNzc0OTk3LCJleHAiOjE3NDI3Nzg1OTd9.ipAG-Fmzt28hYdyNgg284aMGfSDNokOMVTrc_PxZIPA
2025-03-24 00:15:01 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: loyalforge706
2025-03-24 00:15:01 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:15:01 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: loyalforge706
2025-03-24 00:15:01 [http-nio-8080-exec-3] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: loyalforge706
2025-03-24 00:15:01 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from C90906404FFBB42D87C54AF6AB9F0E08
2025-03-24 00:15:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/confirm-watched
2025-03-24 00:15:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/confirm-watched", parameters={}
2025-03-24 00:15:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#confirmWatched(HttpSession, ConfirmDestinationDto)
2025-03-24 00:15:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.ConfirmDestinationDto@26bbe95e]
2025-03-24 00:15:01 [http-nio-8080-exec-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-0jkrbqkm session=null payload={"type":"watched","data":null}
2025-03-24 00:15:01 [http-nio-8080-exec-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:15:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:15:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:15:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/messages
2025-03-24 00:15:06 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/messages
2025-03-24 00:15:06 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:15:06 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:15:06 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: strongcave329
2025-03-24 00:15:06 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:15:06 [http-nio-8080-exec-7] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: strongcave329
2025-03-24 00:15:06 [http-nio-8080-exec-7] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: strongcave329
2025-03-24 00:15:06 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 301937D05884BEC9093E91B838E66CC0
2025-03-24 00:15:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/messages
2025-03-24 00:15:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/messages", parameters={}
2025-03-24 00:15:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#sendMessage(HttpServletRequest, MessageDTO)
2025-03-24 00:15:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.MessageDTO@1c73e64e]
2025-03-24 00:15:06 [http-nio-8080-exec-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-wflqmx14 session=null payload={"type":"message","data":{"content":null,"receiver":"loyalforge706","sender":"st...(truncated)
2025-03-24 00:15:06 [http-nio-8080-exec-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:15:06 [http-nio-8080-exec-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-0jkrbqkm session=null payload={"type":"message","data":{"content":null,"receiver":"loyalforge706","sender":"st...(truncated)
2025-03-24 00:15:06 [http-nio-8080-exec-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:15:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:15:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:15:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/confirm-watched
2025-03-24 00:15:06 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/confirm-watched
2025-03-24 00:15:06 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsb3lhbGZvcmdlNzA2IiwiaWF0IjoxNzQyNzc0OTk3LCJleHAiOjE3NDI3Nzg1OTd9.ipAG-Fmzt28hYdyNgg284aMGfSDNokOMVTrc_PxZIPA
2025-03-24 00:15:06 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsb3lhbGZvcmdlNzA2IiwiaWF0IjoxNzQyNzc0OTk3LCJleHAiOjE3NDI3Nzg1OTd9.ipAG-Fmzt28hYdyNgg284aMGfSDNokOMVTrc_PxZIPA
2025-03-24 00:15:06 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: loyalforge706
2025-03-24 00:15:06 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:15:06 [http-nio-8080-exec-10] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: loyalforge706
2025-03-24 00:15:06 [http-nio-8080-exec-10] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: loyalforge706
2025-03-24 00:15:06 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 48801A10CA08CBBB6AA886CDBE55CA30
2025-03-24 00:15:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/confirm-watched
2025-03-24 00:15:06 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/confirm-watched", parameters={}
2025-03-24 00:15:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#confirmWatched(HttpSession, ConfirmDestinationDto)
2025-03-24 00:15:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.ConfirmDestinationDto@15c87d58]
2025-03-24 00:15:06 [http-nio-8080-exec-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-0jkrbqkm session=null payload={"type":"watched","data":null}
2025-03-24 00:15:06 [http-nio-8080-exec-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:15:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:15:06 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:15:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/messages
2025-03-24 00:15:07 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/messages
2025-03-24 00:15:07 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:15:07 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:15:07 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: strongcave329
2025-03-24 00:15:07 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:15:07 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: strongcave329
2025-03-24 00:15:07 [http-nio-8080-exec-8] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: strongcave329
2025-03-24 00:15:07 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from A174477DB5BB113DF6017B88D6D507DC
2025-03-24 00:15:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/messages
2025-03-24 00:15:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/messages", parameters={}
2025-03-24 00:15:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#sendMessage(HttpServletRequest, MessageDTO)
2025-03-24 00:15:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.MessageDTO@679313c4]
2025-03-24 00:15:07 [http-nio-8080-exec-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-wflqmx14 session=null payload={"type":"message","data":{"content":null,"receiver":"loyalforge706","sender":"st...(truncated)
2025-03-24 00:15:07 [http-nio-8080-exec-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:15:07 [http-nio-8080-exec-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-0jkrbqkm session=null payload={"type":"message","data":{"content":null,"receiver":"loyalforge706","sender":"st...(truncated)
2025-03-24 00:15:07 [http-nio-8080-exec-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:15:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:15:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:15:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/confirm-watched
2025-03-24 00:15:07 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/confirm-watched
2025-03-24 00:15:07 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsb3lhbGZvcmdlNzA2IiwiaWF0IjoxNzQyNzc0OTk3LCJleHAiOjE3NDI3Nzg1OTd9.ipAG-Fmzt28hYdyNgg284aMGfSDNokOMVTrc_PxZIPA
2025-03-24 00:15:07 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsb3lhbGZvcmdlNzA2IiwiaWF0IjoxNzQyNzc0OTk3LCJleHAiOjE3NDI3Nzg1OTd9.ipAG-Fmzt28hYdyNgg284aMGfSDNokOMVTrc_PxZIPA
2025-03-24 00:15:07 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: loyalforge706
2025-03-24 00:15:07 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:15:07 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: loyalforge706
2025-03-24 00:15:07 [http-nio-8080-exec-1] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: loyalforge706
2025-03-24 00:15:07 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 9EDF7A4C9E8E1827F0D954808D59CAA2
2025-03-24 00:15:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/confirm-watched
2025-03-24 00:15:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/confirm-watched", parameters={}
2025-03-24 00:15:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#confirmWatched(HttpSession, ConfirmDestinationDto)
2025-03-24 00:15:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.ConfirmDestinationDto@45858a44]
2025-03-24 00:15:07 [http-nio-8080-exec-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-0jkrbqkm session=null payload={"type":"watched","data":null}
2025-03-24 00:15:07 [http-nio-8080-exec-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:15:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:15:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:15:07 [MessageBroker-11] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 4 sessions: [0ck2l4z2, ugpsu425, hw00lzyb, 24lytmhs]
2025-03-24 00:15:42 [clientInboundChannel-243] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-1 session=wflqmx14
2025-03-24 00:15:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=wflqmx14] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:15:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session wflqmx14
2025-03-24 00:15:43 [clientInboundChannel-246] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=wflqmx14
2025-03-24 00:15:43 [clientOutboundChannel-176] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=wflqmx14}], simpSessionId=wflqmx14}]
2025-03-24 00:15:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742775343000
2025-03-24 00:15:43 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:15:43 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:15:43 [http-nio-8080-exec-4] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:15:43 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:15:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742775343000
2025-03-24 00:15:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742775343000", parameters={masked}
2025-03-24 00:15:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:15:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742775343000
2025-03-24 00:15:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:15:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/276/oeeq32m2/websocket
2025-03-24 00:15:43 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/276/oeeq32m2/websocket
2025-03-24 00:15:43 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:15:43 [http-nio-8080-exec-5] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:15:43 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:15:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/276/oeeq32m2/websocket
2025-03-24 00:15:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/276/oeeq32m2/websocket", parameters={}
2025-03-24 00:15:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:15:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/276/oeeq32m2/websocket
2025-03-24 00:15:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:15:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=oeeq32m2]
2025-03-24 00:15:43 [clientInboundChannel-248] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=oeeq32m2
2025-03-24 00:15:43 [clientInboundChannel-252] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-oeeq32m2 id=sub-0 session=oeeq32m2
2025-03-24 00:15:43 [clientInboundChannel-251] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=oeeq32m2, lookupDestination='/chat.addUser'
2025-03-24 00:15:43 [clientInboundChannel-251] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:15:43 [clientInboundChannel-251] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-oeeq32m2 session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:15:43 [clientInboundChannel-251] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:15:43 [clientInboundChannel-258] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-1 session=0jkrbqkm
2025-03-24 00:15:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=0jkrbqkm] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:15:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 0jkrbqkm
2025-03-24 00:15:43 [clientInboundChannel-260] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=0jkrbqkm
2025-03-24 00:15:43 [clientOutboundChannel-180] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=0jkrbqkm}], simpSessionId=0jkrbqkm}]
2025-03-24 00:15:43 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742775343518
2025-03-24 00:15:43 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:15:43 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:15:43 [http-nio-8080-exec-8] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:15:43 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:15:43 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742775343518
2025-03-24 00:15:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742775343518", parameters={masked}
2025-03-24 00:15:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:15:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742775343518
2025-03-24 00:15:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:15:43 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/203/wurqo0pq/websocket
2025-03-24 00:15:43 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/203/wurqo0pq/websocket
2025-03-24 00:15:43 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:15:43 [http-nio-8080-exec-1] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:15:43 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:15:43 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/203/wurqo0pq/websocket
2025-03-24 00:15:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/203/wurqo0pq/websocket", parameters={}
2025-03-24 00:15:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:15:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/203/wurqo0pq/websocket
2025-03-24 00:15:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:15:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=wurqo0pq]
2025-03-24 00:15:43 [clientInboundChannel-264] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=wurqo0pq
2025-03-24 00:15:43 [clientInboundChannel-267] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-wurqo0pq id=sub-0 session=wurqo0pq
2025-03-24 00:15:43 [clientInboundChannel-238] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=wurqo0pq, lookupDestination='/chat.addUser'
2025-03-24 00:15:43 [clientInboundChannel-238] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:15:43 [clientInboundChannel-238] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-wurqo0pq session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:15:43 [clientInboundChannel-238] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:15:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/messages
2025-03-24 00:15:47 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/messages
2025-03-24 00:15:47 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsb3lhbGZvcmdlNzA2IiwiaWF0IjoxNzQyNzc0OTk3LCJleHAiOjE3NDI3Nzg1OTd9.ipAG-Fmzt28hYdyNgg284aMGfSDNokOMVTrc_PxZIPA
2025-03-24 00:15:47 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsb3lhbGZvcmdlNzA2IiwiaWF0IjoxNzQyNzc0OTk3LCJleHAiOjE3NDI3Nzg1OTd9.ipAG-Fmzt28hYdyNgg284aMGfSDNokOMVTrc_PxZIPA
2025-03-24 00:15:47 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: loyalforge706
2025-03-24 00:15:47 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:15:47 [http-nio-8080-exec-4] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: loyalforge706
2025-03-24 00:15:47 [http-nio-8080-exec-4] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: loyalforge706
2025-03-24 00:15:47 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 22844B1DD11B99DD5226443E2D7114B1
2025-03-24 00:15:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/messages
2025-03-24 00:15:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/messages", parameters={}
2025-03-24 00:15:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#sendMessage(HttpServletRequest, MessageDTO)
2025-03-24 00:15:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.MessageDTO@111dfdc2]
2025-03-24 00:15:47 [http-nio-8080-exec-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-wurqo0pq session=null payload={"type":"message","data":{"content":null,"receiver":"strongcave329","sender":"lo...(truncated)
2025-03-24 00:15:47 [http-nio-8080-exec-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:15:47 [http-nio-8080-exec-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-oeeq32m2 session=null payload={"type":"message","data":{"content":null,"receiver":"strongcave329","sender":"lo...(truncated)
2025-03-24 00:15:47 [http-nio-8080-exec-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:15:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:15:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:15:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/confirm-watched
2025-03-24 00:15:47 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/confirm-watched
2025-03-24 00:15:47 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:15:47 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:15:47 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: strongcave329
2025-03-24 00:15:47 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:15:47 [http-nio-8080-exec-5] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: strongcave329
2025-03-24 00:15:47 [http-nio-8080-exec-5] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: strongcave329
2025-03-24 00:15:47 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 4492822B59B43C07BD7C2F1F82476B94
2025-03-24 00:15:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/confirm-watched
2025-03-24 00:15:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/confirm-watched", parameters={}
2025-03-24 00:15:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#confirmWatched(HttpSession, ConfirmDestinationDto)
2025-03-24 00:15:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.ConfirmDestinationDto@4bcd63e4]
2025-03-24 00:15:47 [http-nio-8080-exec-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-oeeq32m2 session=null payload={"type":"watched","data":null}
2025-03-24 00:15:47 [http-nio-8080-exec-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:15:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:15:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:15:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /chat/confirm-watched
2025-03-24 00:15:50 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /chat/confirm-watched
2025-03-24 00:15:50 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:15:50 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted JWT: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJzdHJvbmdjYXZlMzI5IiwiaWF0IjoxNzQyNzc1MDAyLCJleHAiOjE3NDI3Nzg2MDJ9.UjHxbBqS8s_damqlCUTyt1Ls123FRWqrUDCAi4vOHjY
2025-03-24 00:15:50 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Extracted username from JWT: strongcave329
2025-03-24 00:15:50 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - No authentication found in SecurityContext. Proceeding with validation.
2025-03-24 00:15:50 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Loaded UserDetails: strongcave329
2025-03-24 00:15:50 [http-nio-8080-exec-6] INFO  c.n.p.p.c.JwtAuthenticationFilter - JWT is valid. Setting authentication for user: strongcave329
2025-03-24 00:15:50 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from BC0D6697F87FD791B089BCA07EE6A96E
2025-03-24 00:15:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /chat/confirm-watched
2025-03-24 00:15:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/chat/confirm-watched", parameters={}
2025-03-24 00:15:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ndev.privchat.privchat.controllers.MessageController#confirmWatched(HttpSession, ConfirmDestinationDto)
2025-03-24 00:15:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ndev.privchat.privchat.dtos.ConfirmDestinationDto@2cf41979]
2025-03-24 00:15:50 [http-nio-8080-exec-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-oeeq32m2 session=null payload={"type":"watched","data":"Sa9cyhaI"}
2025-03-24 00:15:50 [http-nio-8080-exec-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:15:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [*/*]
2025-03-24 00:15:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:15:52 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [0jkrbqkm, wflqmx14]
2025-03-24 00:18:18 [MessageBroker-13] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 32 total, 4 closed abnormally (4 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(28)-CONNECTED(28)-DISCONNECT(24)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 414], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 186], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 5, completed tasks = 867]
2025-03-24 00:19:44 [clientInboundChannel-271] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-1 session=oeeq32m2
2025-03-24 00:19:44 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=oeeq32m2] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:19:44 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session oeeq32m2
2025-03-24 00:19:44 [clientInboundChannel-274] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=oeeq32m2
2025-03-24 00:19:44 [clientOutboundChannel-188] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=oeeq32m2}], simpSessionId=oeeq32m2}]
2025-03-24 00:19:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742775584372
2025-03-24 00:19:44 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:19:44 [http-nio-8080-exec-8] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:19:44 [http-nio-8080-exec-8] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:19:44 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:19:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742775584372
2025-03-24 00:19:44 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742775584372", parameters={masked}
2025-03-24 00:19:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:19:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742775584372
2025-03-24 00:19:44 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:19:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/105/3anq5a2j/websocket
2025-03-24 00:19:44 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/105/3anq5a2j/websocket
2025-03-24 00:19:44 [http-nio-8080-exec-1] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:19:44 [http-nio-8080-exec-1] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:19:44 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:19:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/105/3anq5a2j/websocket
2025-03-24 00:19:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/105/3anq5a2j/websocket", parameters={}
2025-03-24 00:19:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:19:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/105/3anq5a2j/websocket
2025-03-24 00:19:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:19:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=3anq5a2j]
2025-03-24 00:19:44 [clientInboundChannel-277] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=3anq5a2j
2025-03-24 00:19:44 [clientInboundChannel-280] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-3anq5a2j id=sub-0 session=3anq5a2j
2025-03-24 00:19:44 [clientInboundChannel-282] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=3anq5a2j, lookupDestination='/chat.addUser'
2025-03-24 00:19:44 [clientInboundChannel-282] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:19:44 [clientInboundChannel-282] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-3anq5a2j session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:19:44 [clientInboundChannel-282] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:19:44 [clientInboundChannel-286] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-1 session=wurqo0pq
2025-03-24 00:19:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=wurqo0pq] closed with CloseStatus[code=1000, reason=null]
2025-03-24 00:19:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session wurqo0pq
2025-03-24 00:19:44 [clientInboundChannel-289] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=wurqo0pq
2025-03-24 00:19:44 [clientOutboundChannel-192] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=wurqo0pq}], simpSessionId=wurqo0pq}]
2025-03-24 00:19:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1742775584526
2025-03-24 00:19:44 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/info
2025-03-24 00:19:44 [http-nio-8080-exec-6] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:19:44 [http-nio-8080-exec-6] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:19:44 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:19:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1742775584526
2025-03-24 00:19:44 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1742775584526", parameters={masked}
2025-03-24 00:19:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:19:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1742775584526
2025-03-24 00:19:44 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-03-24 00:19:44 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/158/yrceirdo/websocket
2025-03-24 00:19:44 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Incoming request URI: /ws/158/yrceirdo/websocket
2025-03-24 00:19:44 [http-nio-8080-exec-3] DEBUG c.n.p.p.c.JwtAuthenticationFilter - Authorization header: null
2025-03-24 00:19:44 [http-nio-8080-exec-3] INFO  c.n.p.p.c.JwtAuthenticationFilter - No valid Authorization header found. Proceeding without authentication.
2025-03-24 00:19:44 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-03-24 00:19:44 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/158/yrceirdo/websocket
2025-03-24 00:19:44 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/158/yrceirdo/websocket", parameters={}
2025-03-24 00:19:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@54c425b1
2025-03-24 00:19:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/158/yrceirdo/websocket
2025-03-24 00:19:44 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-03-24 00:19:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=yrceirdo]
2025-03-24 00:19:44 [clientInboundChannel-292] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=yrceirdo
2025-03-24 00:19:44 [clientInboundChannel-295] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/specific-user-yrceirdo id=sub-0 session=yrceirdo
2025-03-24 00:19:44 [clientInboundChannel-297] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/chat.addUser session=yrceirdo, lookupDestination='/chat.addUser'
2025-03-24 00:19:44 [clientInboundChannel-297] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#addUser[3 args]
2025-03-24 00:19:44 [clientInboundChannel-297] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/specific-user-yrceirdo session=null payload={"uuid":null,"content":"Update","createdAt":null,"sender":"System","receiver":nu...(truncated)
2025-03-24 00:19:44 [clientInboundChannel-297] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-03-24 00:19:52 [MessageBroker-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [oeeq32m2, wurqo0pq]
2025-03-24 00:48:18 [MessageBroker-16] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 34 total, 4 closed abnormally (4 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(30)-CONNECTED(30)-DISCONNECT(26)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 444], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 194], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 5, completed tasks = 1701]
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5b04476e, started on Sun Mar 23 23:47:16 GMT 2025
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147483647
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'stompWebSocketHandlerMapping' completed its stop procedure
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session 3anq5a2j with CloseStatus[code=1001, reason=null]
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=b7ee5c73-a2f3-f4af-0803-b107a2a37600, uri=ws://localhost:8080/ws/105/3anq5a2j/websocket]
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=3anq5a2j] closed with CloseStatus[code=1001, reason=null]
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 3anq5a2j
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session yrceirdo with CloseStatus[code=1001, reason=null]
2025-03-24 00:56:54 [clientInboundChannel-301] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=3anq5a2j
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=61a6c418-6cf9-77d4-e5b2-5eccc10a5747, uri=ws://localhost:8080/ws/158/yrceirdo/websocket]
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=yrceirdo] closed with CloseStatus[code=1001, reason=null]
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session yrceirdo
2025-03-24 00:56:54 [clientInboundChannel-304] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=yrceirdo
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'subProtocolWebSocketHandler' completed its stop procedure
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'clientInboundChannelExecutor' completed its stop procedure
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'clientOutboundChannelExecutor' completed its stop procedure
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'brokerChannelExecutor' completed its stop procedure
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'simpAnnotationMethodMessageHandler' completed its stop procedure
2025-03-24 00:56:54 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-03-24 00:56:54 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5e9bf744]]
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5e9bf744]
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5e9bf744]
2025-03-24 00:56:54 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'simpleBrokerMessageHandler' completed its stop procedure
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'userDestinationMessageHandler' completed its stop procedure
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147482623
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'webServerGracefulShutdown' completed its stop procedure
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147481599
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'webServerStartStop' completed its stop procedure
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase -2147483647
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'springBootLoggingLifecycle' completed its stop procedure
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'messageBrokerTaskScheduler'
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'brokerChannelExecutor'
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'clientOutboundChannelExecutor'
2025-03-24 00:56:54 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'clientInboundChannelExecutor'
